# YandexDirect-QualityUsers

## Описание

**YandexDirect-QualityUsers** — это скрипт для создания цели в Яндекс Директ, который отслеживает только вовлеченный трафик. Данный скрипт помогает вам анализировать качество посетителей вашего сайта, исключая ботов и концентрируясь на настоящих заинтересованных пользователях. Это позволяет улучшить качество данных и повысить эффективность рекламных кампаний, особенно при использовании автостратегий.

### Особенности

Скрипт отслеживает следующие микроконверсии:

- Время, проведенное на сайте.
- Скроллинг страницы.
- Клики мышью.
- Движение мыши.
- Вращение телефона.
- Выделение текста.

**Идеально подходит для разгона автостратегий.**

### Защита от ботов

Но ведь это может делать любой бот? Стратегия может обучиться на ботах и будет приводить мне ботов? Боты — это большая головная боль для кампаний, которые рекламируются в РСЯ. Избавиться от них бывает очень сложно.

**Данный скрипт отсекает ботов и отслеживает только качественный трафик:**

- Проверка User-Agent на наличие признаков ботов.
- Проверка поведения браузера на наличие headless-режима.
- Проверка наличия специфических заголовков HTTP, указывающих на использование прокси.

## Преимущества

- **Только качественный трафик:** Исключение ботов позволяет сосредоточиться на настоящих пользователях, повышая качество данных.
- **Оптимизация рекламных кампаний:** Снижение риска обучения автостратегий на ботах, что приводит к более эффективным и экономичным кампаниям.
- **Легкая интеграция:** Скрипт легко интегрируется через Google Tag Manager.

## Настройка времени на сайте (MIN_TIME_ON_SITE)

Настройка `MIN_TIME_ON_SITE` зависит от цели вашего сайта:

- Если ваша цель - отслеживать действительно заинтересованных пользователей, порог может быть выше (например, 60 секунд или больше).
- Если цель - отслеживать всех, кто проявил минимальный интерес, порог можно снизить до 20-30 секунд.

### Примеры порогов времени

- **Блог или новостной сайт**: 60-120 секунд
- **Интернет-магазин**: 30-60 секунд
- **Лендинг (продающая страница)**: 20-30 секунд
- **Информационный сайт**: 45-90 секунд

## Установка

Следуйте этим простым шагам для установки скрипта через Google Tag Manager:

1. **Скачайте файл:** Загрузите файл `QualityUser.js` из репозитория.
2. **Откройте Google Tag Manager:** Перейдите в свой аккаунт Google Tag Manager.
3. **Создайте новый тег:**
   - Нажмите на кнопку **Добавить новый тег**.
   - Дайте тегу имя, например, "Quality User Script".
4. **Выберите тип тега:**
   - Нажмите на **Конфигурация тега**.
   - Выберите **Пользовательский HTML**.
5. **Вставьте скрипт:**
   - Откройте файл `QualityUser.js` в текстовом редакторе.
   - Скопируйте весь содержимое файла.
   - Вставьте скопированный код в поле **HTML** в Google Tag Manager.
6. **Настройте триггер:**
   - Нажмите на **Триггеры**.
   - Выберите **All Pages** (Все страницы) или настройте свой собственный триггер по вашему усмотрению.
7. **Сохраните и опубликуйте:**
   - Нажмите на кнопку **Сохранить**.
   - Опубликуйте изменения.

8. **Создайте цель в метрике:**
   - Зайдите в **Яндекс.Метрику**.
   - Перейдите в меню **Цели**.
   - Нажмите **Добавить цель**.
   - Введите название цели, например, **Микро: QualityUsers**.
   - Выберите тип условия **JavaScript событие**.
   - Укажите идентификатор цели, `QualityUsers`.
   - Нажмите **Сохранить**.

Теперь ваш сайт готов к отслеживанию качественного трафика с помощью скрипта **YandexDirect-QualityUsers**.

## Заключение

Используйте **YandexDirect-QualityUsers** для повышения эффективности ваших рекламных кампаний и улучшения качества данных. Скрипт поможет вам отсекать ботов и сосредоточиться на настоящих заинтересованных пользователях, что особенно важно для успешного разгона автостратегий.

Если у вас возникнут вопросы или потребуется помощь, не стесняйтесь обращаться к нам через [раздел Issues](https://github.com/it-vbg/YandexDirect-QualityUsers/issues). Мы всегда рады помочь!
